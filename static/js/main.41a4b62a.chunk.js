(this.webpackJsonpcreativeprojects=this.webpackJsonpcreativeprojects||[]).push([[0],{559:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);var r=n(23),c=n(1),a=n(78),o=n.n(a),i=n(27),s=n(42),l=n(59),u=n(134),j={error:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_SUCCESS":return console.log("signin success"),Object(r.a)(Object(r.a)({},e),{},{error:null});case"SIGNIN_ERROR":return console.log("signin error"),Object(r.a)(Object(r.a)({},e),{},{error:t.err.message});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(r.a)(Object(r.a)({},e),{},{error:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(r.a)(Object(r.a)({},e),{},{error:t.err.message});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"UPDATEPROFILE_SUCCESS":return console.log(t.data),e;case"UPDATEPROFILE_ERROR":return console.log(t.err),e;case"REMOVEPROFILE_SUCCESS":return console.log("removeprofile success"),e;default:return e}},b={projects:[]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATEPROJECT_SUCCESS":return console.log(t.data),e;case"CREATEPROJECT_ERROR":return console.log(t.err),e;case"UPDATEPROJECT_SUCCESS":return console.log(t.data),e;case"UPDATEPROJECT_ERROR":return console.log(t.err),e;case"REMOVEPROJECT_SUCCESS":return console.log(t.id),e;case"REMOVEPROJECT_ERROR":return console.log(t.err),e;default:return e}},p={elements:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATEELEMENT_SUCCESS":return console.log(t.data),e;case"CREATEELEMENT_ERROR":return console.log(t.err),e;case"UPDATEELEMENT_SUCCESS":return console.log(t.data),e;case"UPDATEELEMENT_ERROR":return console.log(t.err),e;case"REMOVEELEMENT_SUCCESS":return console.log(t.id),e;case"REMOVEELEMENT_ERROR":return console.log(t.err),e;default:return e}},f={keywords:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATEKEYWORD_SUCCESS":return console.log(t.data),e;case"CREATEKEYWORD_ERROR":return console.log(t.err),e;case"UPDATEKEYWORD_SUCCESS":return console.log(t.data),e;case"UPDATEKEYWORD_ERROR":return console.log(t.err),e;case"REMOVEKEYWORD_SUCCESS":return console.log(t.id),e;case"REMOVEKEYWORD_ERROR":return console.log(t.err),e;default:return e}},x={skills:[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATESKILL_SUCCESS":return console.log(t.data),e;case"CREATESKILL_ERROR":return console.log(t.err),e;case"UPDATESKILL_SUCCESS":return console.log(t.data),e;case"UPDATESKILL_ERROR":return console.log(t.err),e;case"REMOVESKILL_SUCCESS":return console.log(t.id),e;case"REMOVESKILL_ERROR":return console.log(t.err),e;default:return e}},S=Object(l.b)({profile:d,project:O,element:m,keyword:h,skill:E,firebase:s.firebaseReducer,firestore:u.firestoreReducer}),y=n(334),C=n(136);n(561),n(563),n(537),n(562);C.a.initializeApp({apiKey:"AIzaSyAqSX015CALe_Wi5r9Tj9RJSG1fkO_cRzE",authDomain:"creativeprojects-db.firebaseapp.com",projectId:"creativeprojects-db",storageBucket:"creativeprojects-db.appspot.com",messagingSenderId:"1085559270275",appId:"1:1085559270275:web:b95dae1cf2df8d7777a4b6",measurementId:"G-C37SVXB4H5"}),C.a.analytics(),C.a.firestore().settings({timestampsInSnapshots:!0});var g=C.a,v=n(77),R=n(36),k=n(335),w=n(643),P=n(100),T=n(620),U=n(649),_=n(651),A=n(183),I=n(644),L=n(98),F=n(99),D=n(118),M=n(605),N=n(635),V=n(2),z=Object(i.b)((function(e){return{profile:e.firebase.profile}}))((function(e){var t=e.profile,n=e.sideWidth,r=[L.a,F.a,P.a,D.a,M.a],c=t.email&&t.email.charCodeAt(0)%5,a=t.email?r[c][700]:P.a;return Object(V.jsx)(U.a,{sx:{width:"calc(100% - ".concat(n,"px)")},elevation:0,children:Object(V.jsxs)(_.a,{children:[Object(V.jsxs)(A.a,{sx:{flexGrow:1},children:["Today is the ",Object(N.a)(new Date,"do MMMM Y")]}),Object(V.jsx)(A.a,{children:t.email}),Object(V.jsx)(I.a,{sx:{backgroundColor:a,ml:2},children:t.email&&t.email[0].toUpperCase()})]})})})),K=n(645),W=n(652),J=n(618),G=n(639),Y=n(616),B=n(617),q=n(610),X=n(613),H=n(619),Q=n(611),Z=n(612),$=Object(i.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.sideWidth,n=e.auth,r=e.signOut,c=Object(R.g)(),a=Object(R.h)(),o=[{text:"Your Profile",icon:Object(V.jsx)(q.a,{color:"secondary"}),path:"/profile"},{text:"Create Project",icon:Object(V.jsx)(Q.a,{color:"secondary"}),path:"/create"}],i=[{text:"Personal Projects",icon:Object(V.jsx)(Z.a,{color:"secondary"}),path:"/personal"},{text:"Social Projects",icon:Object(V.jsx)(Z.a,{color:"secondary"}),path:"/social"}],s=[{text:"Sign In",icon:Object(V.jsx)(X.a,{color:"secondary"}),path:"/signin"},{text:"Sign Up",icon:Object(V.jsx)(X.a,{color:"secondary"}),path:"/signup"}];return Object(V.jsxs)(K.a,{sx:{width:t,"& .MuiDrawer-paper":{width:t}},variant:"permanent",anchor:"left",children:[Object(V.jsx)(A.a,{sx:{p:2,cursor:"pointer"},variant:"h5",onClick:function(){return c.push("/profile")},children:"Material App"}),n.uid&&Object(V.jsxs)("div",{children:[Object(V.jsx)(W.a,{children:o.map((function(e){return Object(V.jsxs)(G.a,{button:!0,sx:{backgroundColor:a.pathname===e.path&&"#f4f4f4"},onClick:function(){return c.push(e.path)},children:[Object(V.jsx)(Y.a,{children:e.icon}),Object(V.jsx)(B.a,{primary:e.text})]},e.text)}))}),Object(V.jsx)(J.a,{}),Object(V.jsx)(W.a,{children:i.map((function(e){return Object(V.jsxs)(G.a,{button:!0,sx:{backgroundColor:a.pathname===e.path&&"#f4f4f4"},onClick:function(){return c.push(e.path)},children:[Object(V.jsx)(Y.a,{children:e.icon}),Object(V.jsx)(B.a,{primary:e.text})]},e.text)}))}),Object(V.jsx)(W.a,{children:Object(V.jsxs)(G.a,{button:!0,sx:{marginTop:"50vh"},onClick:r,children:[Object(V.jsx)(Y.a,{children:Object(V.jsx)(H.a,{color:"secondary"})}),Object(V.jsx)(B.a,{primary:"Sign Out"})]})})]}),!n.uid&&Object(V.jsx)(W.a,{children:s.map((function(e){return Object(V.jsxs)(G.a,{button:!0,sx:{backgroundColor:a.pathname===e.path&&"#f4f4f4"},onClick:function(){return c.push(e.path)},children:[Object(V.jsx)(Y.a,{children:e.icon}),Object(V.jsx)(B.a,{primary:e.text})]},e.text)}))})]})})),ee=Object(T.a)("div")((function(e){return{width:"100%",padding:e.theme.spacing(3)}})),te=Object(T.a)("div")({display:"flex"}),ne=Object(T.a)("div")((function(e){return e.theme.mixins.toolbar})),re=function(e){var t=e.children;return Object(V.jsxs)(te,{children:[Object(V.jsx)(z,{sideWidth:250}),Object(V.jsx)($,{sideWidth:250}),Object(V.jsxs)(ee,{children:[Object(V.jsx)(ne,{})," ",t]})]})},ce=function(e){var t=Object.assign({},e),n=Object(i.c)((function(e){return e.firebase.auth}));return Object(s.isLoaded)(n)&&!Object(s.isEmpty)(n)?Object(V.jsx)(R.b,Object(r.a)({},t)):Object(V.jsx)(R.a,{to:"/signin"})},ae=n(113),oe=n(21),ie=function(e,t){return function(n,c,a){var o=(0,a.getFirestore)(),i=c().firebase.auth.uid,s=o.collection("users").doc(i).collection("projects"),l=o.collection("projects");("personal"===e.type?s:l).doc(t).update(Object(r.a)({},e)).then((function(){n({type:"UPDATEPROJECT_SUCCESS",data:e})})).catch((function(e){n({type:"UPDATEPROJECT_ERROR",err:e})}))}},se=n(655),le=n(653),ue=n(654),je=n(656),de=n(621),be=n(622),Oe=n(623),pe=Object(i.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{updateProject:function(t,n){return e(ie(t,n))}}}))((function(e){var t=e.project,n=e.profile,r=e.updateProject,c=[L.a,F.a,P.a,D.a,M.a][t.title.charCodeAt(0)%5][700],a=Object(R.g)();return Object(V.jsxs)(le.a,{elevation:1,children:[Object(V.jsx)(ue.a,{title:t.title,subheader:t.keywords&&t.keywords.join(" "),avatar:Object(V.jsx)(I.a,{sx:{backgroundColor:c},children:t.title[0].toUpperCase()}),action:Object(V.jsxs)(V.Fragment,{children:[t.team.some((function(e){return e.email===n.email&&("member"===e.role||"admin"===e.role)}))&&Object(V.jsx)(se.a,{onClick:function(){a.push("/"+t.type+"/"+t.id)},children:Object(V.jsx)(de.a,{})}),t.team.some((function(e){return e.email===n.email&&"wait"===e.role}))&&Object(V.jsx)(se.a,{children:Object(V.jsx)(be.a,{})}),!t.team.some((function(e){return e.email===n.email}))&&Object(V.jsx)(se.a,{onClick:function(){r({type:t.type,team:[].concat(Object(oe.a)(t.team),[{email:n.email,role:"wait"}])},t.id)},children:Object(V.jsx)(Oe.a,{})})]})}),Object(V.jsx)(je.a,{children:Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",children:t.description})})]})})),me={default:3,1100:2,700:1},fe=function(e){var t=e.projects;return Object(V.jsx)(ae.a,{breakpointCols:me,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t&&t.map((function(e){return Object(V.jsx)(pe,{project:e},e.id)}))})},he=Object(l.c)(Object(i.b)((function(e){return{personal:e.firestore.ordered.personal,auth:e.firebase.auth}})),Object(s.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid,subcollections:[{collection:"projects"}],orderBy:["createdat","desc"],storeAs:"personal"}]})))((function(e){var t=e.personal;return Object(V.jsx)(fe,{projects:t,type:"personal"})})),xe=Object(l.c)(Object(i.b)((function(e){return{social:e.firestore.ordered.social,profile:e.firebase.profile}})),Object(s.firestoreConnect)([{collection:"projects",orderBy:["createdat","desc"],storeAs:"social"}]))((function(e){var t=e.social;return Object(V.jsx)(fe,{projects:t,type:"social"})})),Ee=n(648),Se=n(16),ye=n(647),Ce=n(625),ge=n(626),ve=n(34),Re=n(115),ke=n(640),we=["name","add"],Pe=function(e){var t=e.name,n=e.add,c=Object(Re.a)(e,we);return Object(V.jsx)(ke.a,Object(r.a)(Object(r.a)({},c),{},{required:!n,sx:{mb:n?0:2},placeholder:t,label:t,name:t,variant:"outlined",color:"secondary",fullWidth:!0}))},Te=Object(i.b)(null,(function(e){return{removeProfile:function(){return e((function(e,t,n){var r=(0,n.getFirestore)(),c=t().firebase.auth.uid;r.collection("users").doc(c).delete().then((function(){e({type:"REMOVEPROFILE_SUCCESS"})}))}))},updateProfile:function(t){return e(function(e){return function(t,n,c){var a=(0,c.getFirestore)(),o=n().firebase.auth.uid;a.collection("users").doc(o).update(Object(r.a)({},e)).then((function(){t({type:"UPDATEPROFILE_SUCCESS",data:e})})).catch((function(e){t({type:"UPDATEPROFILE_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.profile,n=e.removeProfile,r=e.updateProfile,a=Object(c.useState)(!1),o=Object(Se.a)(a,2),i=o[0],s=o[1],l=Object(R.g)();return Object(V.jsxs)(le.a,{elevation:1,children:[Object(V.jsx)(ue.a,{title:t.name,action:Object(V.jsxs)(V.Fragment,{children:[!i&&Object(V.jsx)(se.a,{onClick:function(){return s(!0)},children:Object(V.jsx)(Ce.a,{})}),i&&Object(V.jsx)(se.a,{type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{})})]})}),Object(V.jsxs)(je.a,{children:[!i&&Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",children:t.description||"edit profile and add description"}),i&&Object(V.jsx)(ve.a,{initialValues:{name:t.name,description:t.description},onSubmit:function(e){r(e),s(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsxs)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:[Object(V.jsx)(Pe,{onChange:n,value:t.name,name:"name",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:10,multiline:!0})]})}}),i&&Object(V.jsx)(ye.a,{color:"secondary",size:"small",onClick:function(){n(),l.push("/signup")},children:"Delete Account"})]})]})})),Ue=n(627),_e=Object(i.b)(null,(function(e){return{createSkill:function(t){return e(function(e){return function(t,n,c){var a=(0,c.getFirestore)(),o=n().firebase.auth.uid;a.collection("users").doc(o).collection("skills").add(Object(r.a)(Object(r.a)({},e),{},{createdat:new Date})).then((function(){t({type:"CREATESKILL_SUCCESS",data:e})})).catch((function(e){t({type:"CREATESKILL_ERROR",err:e})}))}}(t))},createKeyword:function(t){return e(function(e){return function(t,n,c){var a=(0,c.getFirestore)().collection("keywords");a.where("word","==",e.word).get().then((function(e){console.log(e.length),e.forEach((function(e){console.log(e.id)}))})).then((function(){a.add(Object(r.a)({},e))})).then((function(){t({type:"CREATEKEYWORD_SUCCESS",data:e})})).catch((function(e){t({type:"CREATEKEYWORD_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.createSkill,n=e.createKeyword;return Object(V.jsx)(ve.a,{initialValues:{title:"",description:""},onSubmit:function(e,c){var a=c.resetForm;t(Object(r.a)({},e)),n({word:e.title,quantity:1}),a()},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:r,autoComplete:"off",children:[Object(V.jsx)(Pe,{onChange:n,value:t.title,name:"title",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:2,multiline:!0}),Object(V.jsx)(ye.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(V.jsx)(Ue.a,{}),children:"Add Skill"})]})}})})),Ae=n(660),Ie=Object(i.b)(null,(function(e){return{updateSkill:function(t,n){return e(function(e,t){return function(n,c,a){var o=(0,a.getFirestore)(),i=c().firebase.auth.uid;o.collection("users").doc(i).collection("skills").doc(t).update(Object(r.a)({},e)).then((function(){n({type:"UPDATESKILL_SUCCESS",data:e})})).catch((function(e){n({type:"UPDATESKILL_ERROR",err:e})}))}}(t,n))},removeSkill:function(t){return e(function(e){return function(t,n,r){var c=(0,r.getFirestore)(),a=n().firebase.auth.uid;c.collection("users").doc(a).collection("skills").doc(e).delete().then((function(){t({type:"REMOVESKILL_SUCCESS",id:e})})).catch((function(e){t({type:"REMOVESKILL_SUCCESS",err:e})}))}}(t))}}}))((function(e){var t=e.skill,n=e.updateSkill,r=e.removeSkill,a=Object(c.useState)(!1),o=Object(Se.a)(a,2),i=o[0],s=o[1],l=[L.a,F.a,P.a,D.a,M.a][t.title.charCodeAt(0)%5][700];return Object(V.jsxs)(le.a,{elevation:1,children:[Object(V.jsx)(ue.a,{title:t.title,avatar:Object(V.jsx)(I.a,{sx:{backgroundColor:l},children:t.title[0].toUpperCase()}),action:Object(V.jsxs)(V.Fragment,{children:[!i&&Object(V.jsx)(se.a,{onClick:function(){return s(!0)},children:Object(V.jsx)(Ce.a,{})}),i&&Object(V.jsx)(se.a,{type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{})})]})}),Object(V.jsxs)(je.a,{children:[!i&&Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",children:t.description}),i&&Object(V.jsx)(ve.a,{initialValues:{description:t.description},onSubmit:function(e){n(e,t.id),s(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsx)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:5,multiline:!0})})}}),i&&Object(V.jsx)(ye.a,{color:"secondary",size:"small",onClick:function(){r(t.id)},children:"Delete Skill"})]})]})})),Le={default:2,1100:2,700:1},Fe=function(e){var t=e.skills;return Object(V.jsx)(Ae.a,{sx:{mt:4},children:Object(V.jsx)(ae.a,{breakpointCols:Le,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t&&t.map((function(e){return Object(V.jsx)(Ie,{skill:e},e.id)}))})})},De=Object(l.c)(Object(i.b)((function(e){return{skills:e.firestore.ordered.skills,profile:e.firebase.profile,auth:e.firebase.auth}})),Object(s.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid,subcollections:[{collection:"skills"}],orderBy:["createdat","desc"],storeAs:"skills"}]})))((function(e){var t=e.skills,n=e.profile;return Object(V.jsxs)(Ee.a,{container:!0,spacing:3,children:[Object(V.jsx)(Ee.a,{item:!0,md:3,children:Object(V.jsx)(Te,{profile:n})}),Object(V.jsxs)(Ee.a,{item:!0,md:9,children:[Object(V.jsx)(_e,{}),Object(V.jsx)(Fe,{skills:t})]})]})})),Me=n(631),Ne=n(632),Ve=n(628),ze=n(629),Ke=Object(i.b)(null,(function(e){return{updateProject:function(t,n){return e(ie(t,n))}}}))((function(e){var t=e.id,n=e.details,r=e.updateProject,a=Object(c.useState)(!1),o=Object(Se.a)(a,2),i=o[0],s=o[1];return Object(V.jsxs)("div",{children:[Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",sx:{mt:3},children:["Keywords:",!i&&Object(V.jsx)(se.a,{size:"small",onClick:function(){return s(!0)},children:Object(V.jsx)(Ve.a,{sx:{fontSize:"large"}})}),i&&Object(V.jsx)(se.a,{size:"small",type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{sx:{fontSize:"large"}})})]}),i&&Object(V.jsx)(ve.a,{initialValues:{keyword:""},onSubmit:function(e){e.keyword&&r({type:n.type,keywords:[].concat(Object(oe.a)(n.keywords),[e.keyword])},t),s(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsx)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:Object(V.jsx)(Pe,{onChange:n,value:t.keyword,name:"keyword",type:"text",size:"small",add:1})})}}),n.keywords&&n.keywords.map((function(e){return Object(V.jsxs)(A.a,{sx:{fontSize:"small"},variant:"body2",color:"textSecondary",children:[e,Object(V.jsx)(se.a,{size:"small",onClick:function(){r({type:n.type,keywords:n.keywords.filter((function(t){return t!==e}))},t)},children:Object(V.jsx)(ze.a,{sx:{fontSize:"small"}})})]},e)}))]})})),We=Object(i.b)(null,(function(e){return{updateProject:function(t,n){return e(ie(t,n))}}}))((function(e){var t=e.id,n=e.details,a=e.profile,o=e.updateProject,i=Object(c.useState)(!1),s=Object(Se.a)(i,2),l=s[0],u=s[1];return Object(V.jsxs)("div",{children:[Object(V.jsxs)(A.a,{variant:"body2",color:"textSecondary",sx:{mt:3},children:["Team:",!l&&Object(V.jsx)(se.a,{size:"small",onClick:function(){return u(!0)},children:Object(V.jsx)(Ve.a,{sx:{fontSize:"large"}})}),l&&Object(V.jsx)(se.a,{size:"small",type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{sx:{fontSize:"large"}})})]}),l&&Object(V.jsx)(ve.a,{initialValues:{user:""},onSubmit:function(e){e.user&&o({type:n.type,team:[].concat(Object(oe.a)(n.team),[{email:e.user,role:"member"}])},t),u(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsx)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:Object(V.jsx)(Pe,{onChange:n,value:t.user,name:"user",type:"text",size:"small",add:1})})}}),n.team&&n.team.map((function(e){return Object(V.jsxs)(A.a,{sx:{fontSize:"small"},variant:"body2",color:"textSecondary",children:[e.email," ",Object(V.jsx)("br",{})," (",e.role,")",n.team.some((function(e){return e.email===a.email&&"admin"===e.role}))&&Object(V.jsx)(se.a,{size:"small",onClick:function(){var c="wait";"wait"===e.role&&(c="member"),"member"===e.role&&(c="admin"),"admin"===e.role&&(c="wait"),e.email!==a.email&&o({team:n.team.map((function(t){return t.email===e.email?Object(r.a)(Object(r.a)({},t),{},{role:c}):t})),type:n.type},t)},children:Object(V.jsx)(Ue.a,{sx:{fontSize:"small"}})}),n.team.some((function(t){return"admin"===t.role&&t.email!==e.email}))&&Object(V.jsx)(se.a,{size:"small",onClick:function(){o({type:n.type,team:n.team.filter((function(t){return t.email!==e.email}))},t)},children:Object(V.jsx)(ze.a,{sx:{fontSize:"small"}})})]},e.email)}))]})})),Je=n(630),Ge=n(659),Ye=n(646),Be=["name","icon"],qe=function(e){var t=e.name,n=e.icon,c=Object(Re.a)(e,Be);return Object(V.jsx)(Ge.a,{fullWidth:!0,color:"secondary",children:Object(V.jsx)(Ye.a,Object(r.a)(Object(r.a)({},c),{},{sx:{mt:2,mb:2},placeholder:t,name:t,endAdornment:Object(V.jsx)(se.a,{size:"small",type:"submit",children:n})}))})},Xe=Object(i.b)(null,(function(e){return{updateProject:function(t,n){return e(ie(t,n))}}}))((function(e){var t=e.id,n=e.details,c=e.profile,a=e.updateProject;return Object(V.jsxs)("div",{children:[Object(V.jsx)(ve.a,{initialValues:{message:""},onSubmit:function(e,o){var i=o.resetForm;e.message&&a({type:n.type,chat:[].concat(Object(oe.a)(n.chat),[Object(r.a)({email:c.email},e)])},t),i()},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsx)("form",{onSubmit:r,autoComplete:"off",children:Object(V.jsx)(qe,{onChange:n,value:t.message,name:"message",type:"text",icon:Object(V.jsx)(Je.a,{sx:{fontSize:20}})})})}}),n.chat.map((function(e,t){return Object(V.jsxs)("p",{children:[e.email,Object(V.jsx)("br",{}),e.message,Object(V.jsx)("br",{})]},t)}))]})})),He=Object(i.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{removeProject:function(t,n){return e(function(e,t){return function(n,r,c){var a=(0,c.getFirestore)(),o=r().firebase.auth.uid,i=a.collection("users").doc(o).collection("projects"),s=a.collection("projects");("personal"===e.type?i:s).doc(t).delete().then((function(){n({type:"REMOVEPROJECT_SUCCESS",id:t})})).catch((function(e){n({type:"REMOVEPROJECT_SUCCESS",err:e})}))}}(t,n))},updateProject:function(t,n){return e(ie(t,n))}}}))((function(e){var t=e.details,n=e.id,a=e.profile,o=e.removeProject,i=e.updateProject,s=Object(c.useState)(!1),l=Object(Se.a)(s,2),u=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(Se.a)(d,2),O=b[0],p=b[1],m=Object(R.g)();return Object(V.jsxs)(le.a,{elevation:1,children:[Object(V.jsx)(ue.a,{title:t.title,action:Object(V.jsxs)(V.Fragment,{children:[!O&&!u&&Object(V.jsx)(se.a,{onClick:function(){return j(!0)},children:Object(V.jsx)(Ce.a,{})}),!O&&u&&Object(V.jsx)(se.a,{type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{})}),!u&&Object(V.jsx)(se.a,{onClick:function(){return p(!O)},children:O?Object(V.jsx)(Me.a,{}):Object(V.jsx)(Ne.a,{})})]})}),!O&&Object(V.jsxs)(je.a,{children:[!u&&Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",children:t.description}),!u&&Object(V.jsx)(Ke,{id:n,details:t,profile:a}),!u&&"social"===t.type&&Object(V.jsx)(We,{id:n,details:t,profile:a}),u&&Object(V.jsx)(ve.a,{initialValues:{title:t.title,description:t.description},onSubmit:function(e){i(Object(r.a)({type:t.type},e),n),j(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsxs)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:[Object(V.jsx)(Pe,{onChange:n,value:t.title,name:"title",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:10,multiline:!0})]})}}),u&&t.team.some((function(e){return e.email===a.email&&"admin"===e.role}))&&Object(V.jsx)(ye.a,{color:"secondary",size:"small",onClick:function(){o({type:t.type},n),m.push("/"+t.type)},children:"Delete Project"})]}),O&&Object(V.jsx)(je.a,{children:Object(V.jsx)(Xe,{id:n,details:t,profile:a})})]})})),Qe=Object(i.b)(null,(function(e){return{createElement:function(t,n,c){return e(function(e,t,n){return function(c,a,o){var i=o.getFirebase,s=o.getFirestore,l=i(),u=s(),j=a().firebase.auth.uid,d=u.collection("users").doc(j).collection("projects").doc(n).collection("elements"),b=u.collection("projects").doc(n).collection("elements"),O="personal"===e.type?d:b,p=l.storage().ref(n),m=t&&p.child(t.name);t&&m.put(t).then((function(){return m.getDownloadURL().then((function(n){return O.add(Object(r.a)(Object(r.a)({},e),{},{authorid:j,createdat:new Date,filename:t.name,fileurl:n}))}))})).then((function(){c({type:"CREATEELEMENT_SUCCESS",data:e})})).catch((function(e){c({type:"CREATEELEMENT_ERROR",err:e})})),!t&&O.add(Object(r.a)(Object(r.a)({},e),{},{authorid:j,createdat:new Date})).then((function(){c({type:"CREATEELEMENT_SUCCESS",data:e})})).catch((function(e){c({type:"CREATEELEMENT_ERROR",err:e})}))}}(t,n,c))}}}))((function(e){var t=e.createElement,n=e.type,a=e.projectid,o=Object(c.useState)(null),i=Object(Se.a)(o,2),s=i[0],l=i[1],u=Object(c.useState)(!1),j=Object(Se.a)(u,2),d=j[0],b=j[1];return Object(V.jsx)(ve.a,{initialValues:{title:"",description:""},onSubmit:function(e,c){var o=c.resetForm;t(Object(r.a)(Object(r.a)({},e),{},{type:n}),s,a),o()},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:r,autoComplete:"off",children:[Object(V.jsx)(Pe,{onChange:n,value:t.title,name:"title",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:2,multiline:!0}),Object(V.jsx)(ye.a,{onClick:function(){return b(!d)},variant:d?"contained":"outlined",color:"secondary",sx:{mr:2},children:"Task"}),Object(V.jsxs)(ye.a,{variant:s?"contained":"outlined",color:"secondary",component:"label",sx:{mr:2},children:[s?s.name:"File",Object(V.jsx)("input",{hidden:!0,type:"file",onChange:function(e){return l(e.target.files[0])}})]}),Object(V.jsx)(ye.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(V.jsx)(Ue.a,{}),children:"Add Element"})]})}})})),Ze=n(633),$e=n(634),et=n(332),tt=n.n(et),nt=n(333),rt=n.n(nt),ct=Object(i.b)(null,(function(e){return{updateElement:function(t,n,c){return e(function(e,t,n){return function(c,a,o){var i=(0,o.getFirestore)(),s=a().firebase.auth.uid,l=i.collection("users").doc(s).collection("projects").doc(t).collection("elements"),u=i.collection("projects").doc(t).collection("elements");("personal"===e.type?l:u).doc(n).update(Object(r.a)({},e)).then((function(){c({type:"UPDATEELEMENT_SUCCESS",data:e})})).catch((function(e){c({type:"UPDATEELEMENT_ERROR",err:e})}))}}(t,n,c))},removeElement:function(t,n,r){return e(function(e,t,n){return function(r,c,a){var o=(0,a.getFirestore)(),i=c().firebase.auth.uid,s=o.collection("users").doc(i).collection("projects").doc(t).collection("elements"),l=o.collection("projects").doc(t).collection("elements");("personal"===e.type?s:l).doc(n).delete().then((function(){r({type:"REMOVEELEMENT_SUCCESS",id:n})})).catch((function(e){r({type:"REMOVEELEMENT_SUCCESS",err:e})}))}}(t,n,r))}}}))((function(e){var t=e.element,n=e.projectid,a=e.updateElement,o=e.removeElement,i=Object(c.useState)(!1),s=Object(Se.a)(i,2),l=s[0],u=s[1],j=[L.a,F.a,P.a,D.a,M.a][t.title.charCodeAt(0)%5][700];return Object(V.jsxs)(le.a,{elevation:1,children:[Object(V.jsx)(ue.a,{title:t.title,avatar:Object(V.jsx)(I.a,{sx:{backgroundColor:j},children:t.title[0].toUpperCase()}),action:Object(V.jsxs)(V.Fragment,{children:[t.fileurl&&Object(V.jsx)(se.a,{onClick:function(){rt.a.get(t.fileurl,{responseType:"blob"}).then((function(e){return tt()(e.data,t.filename)}))},children:Object(V.jsx)(Ze.a,{})}),t.task&&Object(V.jsx)(se.a,{children:Object(V.jsx)($e.a,{})}),!l&&Object(V.jsx)(se.a,{onClick:function(){return u(!0)},children:Object(V.jsx)(Ce.a,{})}),l&&Object(V.jsx)(se.a,{type:"submit",form:"edit",children:Object(V.jsx)(ge.a,{})})]})}),Object(V.jsxs)(je.a,{children:[!l&&Object(V.jsx)(A.a,{variant:"body2",color:"textSecondary",children:t.description}),l&&Object(V.jsx)(ve.a,{initialValues:{description:t.description},onSubmit:function(e){a(Object(r.a)({type:t.type},e),n,t.id),u(!1)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsx)("form",{id:"edit",onSubmit:r,autoComplete:"off",children:Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:5,multiline:!0})})}}),l&&Object(V.jsx)(ye.a,{color:"secondary",size:"small",onClick:function(){o({type:t.type},n,t.id)},children:"Delete Element"})]})]})})),at={default:2,1100:2,700:1},ot=function(e){var t=e.elements,n=e.projectid;return Object(V.jsx)(Ae.a,{sx:{mt:4},children:Object(V.jsx)(ae.a,{breakpointCols:at,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t&&t.map((function(e){return Object(V.jsx)(ct,{element:e,projectid:n},e.id)}))})})},it=Object(l.c)(Object(i.b)((function(e,t){var n=e.firebase.profile,r=t.match.params.type,c=t.match.params.id,a=e.firestore.data.personalProjects,o=e.firestore.data.socialProjects,i=e.firestore.ordered.personalElements,s=e.firestore.ordered.socialElements;return"personal"===r?{auth:e.firebase.auth,project:a&&a[c],elements:i,id:c,profile:n}:{auth:e.firebase.auth,project:o&&o[c],elements:s,id:c,profile:n}})),Object(s.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid,subcollections:[{collection:"projects"}],storeAs:"personalProjects"},{collection:"projects",storeAs:"socialProjects"},{collection:"users",doc:e.auth.uid,subcollections:[{collection:"projects",doc:e.id},{collection:"elements"}],orderBy:["createdat","desc"],storeAs:"personalElements"},{collection:"projects",doc:e.id,subcollections:[{collection:"elements"}],orderBy:["createdat","desc"],storeAs:"socialElements"}]})))((function(e){var t=e.project,n=e.id,r=e.profile,c=e.elements;return t&&t.team.some((function(e){return e.email===r.email&&("member"===e.role||"admin"===e.role)}))?Object(V.jsxs)(Ee.a,{container:!0,spacing:3,children:[Object(V.jsx)(Ee.a,{item:!0,md:3,children:Object(V.jsx)(He,{details:t,id:n})}),Object(V.jsxs)(Ee.a,{item:!0,md:9,children:[Object(V.jsx)(Qe,{type:t.type,projectid:n}),Object(V.jsx)(ot,{elements:c,projectid:n})]})]}):Object(V.jsx)("p",{className:"text-center",children:"loading..."})})),st=n(661),lt=n(641),ut=n(636),jt=["name","items"],dt=function(e){var t=e.name,n=e.items,c=Object(Re.a)(e,jt);return Object(V.jsxs)(Ge.a,{fullWidth:!0,children:[Object(V.jsx)(lt.a,{color:"secondary",children:t}),Object(V.jsx)(ut.a,Object(r.a)(Object(r.a)({},c),{},{sx:{mb:2},label:t,name:t,color:"secondary",children:n.map((function(e){return Object(V.jsx)(st.a,{value:e,children:e},e)}))}))]})},bt=Object(i.b)(null,(function(e){return{createProject:function(t){return e(function(e){return function(t,n,c){var a=(0,c.getFirestore)(),o=n().firebase.auth.uid,i=n().firebase.profile,s=a.collection("users").doc(o).collection("projects"),l=a.collection("projects");("personal"===e.type?s:l).add(Object(r.a)(Object(r.a)({},e),{},{chat:[],team:[{email:i.email,role:"admin"}],authorid:o,createdat:new Date})).then((function(){t({type:"CREATEPROJECT_SUCCESS",data:e})})).catch((function(e){t({type:"CREATEPROJECT_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.createProject,n=e.history;return Object(V.jsx)(ve.a,{initialValues:{type:"personal",title:"",keywords:"",description:""},onSubmit:function(e){t(Object(r.a)(Object(r.a)({},e),{},{keywords:e.keywords.split(" ")})),n.push("/"+e.type)},children:function(e){var t=e.values,n=e.handleChange,r=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:r,autoComplete:"off",children:[Object(V.jsx)(dt,{onChange:n,value:t.type,items:["personal","social"],name:"type"}),Object(V.jsx)(Pe,{onChange:n,value:t.title,name:"title",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.keywords,name:"keywords",type:"text"}),Object(V.jsx)(Pe,{onChange:n,value:t.description,name:"description",type:"text",rows:7,multiline:!0}),Object(V.jsx)(ye.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(V.jsx)(Ue.a,{}),children:"Create Project"})]})}})})),Ot=Object(i.b)((function(e){return{error:e.profile.error,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,n,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"SIGNIN_SUCCESS"})})).catch((function(e){t({type:"SIGNIN_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.signIn,n=e.error;return e.auth.uid?Object(V.jsx)(R.a,{to:"/profile"}):Object(V.jsx)(ve.a,{initialValues:{email:"",password:""},onSubmit:function(e){t(e)},children:function(e){var t=e.values,r=e.handleChange,c=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:c,children:[Object(V.jsx)(Pe,{onChange:r,value:t.email,name:"email",type:"email"}),Object(V.jsx)(Pe,{onChange:r,value:t.password,name:"password",type:"password"}),Object(V.jsx)(ye.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(V.jsx)(Ue.a,{}),children:"Sign In"}),n&&Object(V.jsx)("p",{children:n})]})}})})),pt=Object(i.b)((function(e){return{error:e.profile.error,auth:e.firebase.auth}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,n,r){var c=r.getFirebase,a=r.getFirestore,o=c(),i=a();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({email:e.email,name:e.name})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))((function(e){var t=e.signUp,n=e.error,r=e.auth,a=Object(c.useState)(!1),o=Object(Se.a)(a,2),i=o[0],s=o[1];return r.uid?Object(V.jsx)(R.a,{to:"/profile"}):Object(V.jsx)(ve.a,{initialValues:{name:"",email:"",password:"",confirm:""},onSubmit:function(e){e.password===e.confirm?t({name:e.name,email:e.email,password:e.password}):s(!0)},children:function(e){var t=e.values,r=e.handleChange,c=e.handleSubmit;return Object(V.jsxs)("form",{onSubmit:c,children:[Object(V.jsx)(Pe,{onChange:r,value:t.name,name:"name",type:"text"}),Object(V.jsx)(Pe,{onChange:r,value:t.email,name:"email",type:"email"}),Object(V.jsx)(Pe,{onChange:r,value:t.password,name:"password",type:"password"}),Object(V.jsx)(Pe,{onChange:r,value:t.confirm,name:"confirm",type:"password"}),Object(V.jsx)(ye.a,{type:"submit",color:"secondary",variant:"contained",endIcon:Object(V.jsx)(Ue.a,{}),children:"Sign Up"}),n&&Object(V.jsx)("p",{children:n}),i&&Object(V.jsx)("p",{children:"Passowrds are not identical"})]})}})})),mt=Object(k.a)({typography:{fontFamily:"Lato"},palette:{primary:{main:"#fefefe"},secondary:P.a}}),ft=function(){return Object(V.jsx)(w.a,{theme:mt,children:Object(V.jsx)(v.a,{basename:"/CreativeProjects",children:Object(V.jsx)(re,{children:Object(V.jsxs)(R.d,{children:[Object(V.jsx)(R.b,{path:"/signin",component:Ot}),Object(V.jsx)(R.b,{path:"/signup",component:pt}),Object(V.jsx)(ce,{path:"/profile",component:De}),Object(V.jsx)(ce,{path:"/create",component:bt}),Object(V.jsx)(ce,{exact:!0,path:"/",render:function(){return Object(V.jsx)(R.a,{to:"/profile"})}}),Object(V.jsx)(ce,{exact:!0,path:"/personal",component:he}),Object(V.jsx)(ce,{exact:!0,path:"/social",component:xe}),Object(V.jsx)(ce,{path:"/:type/:id",component:it})]})})})})},ht=(n(559),Object(l.d)(S,Object(l.c)(Object(l.a)(y.a.withExtraArgument({getFirebase:s.getFirebase,getFirestore:u.getFirestore}))))),xt={firebase:g,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:ht.dispatch,createFirestoreInstance:u.createFirestoreInstance},Et=function(e){var t=e.children,n=Object(i.c)((function(e){return e.firebase.auth}));return Object(s.isLoaded)(n)?t:Object(V.jsx)("p",{className:"text-center",children:"loading..."})};o.a.render(Object(V.jsx)(s.ReactReduxFirebaseProvider,Object(r.a)(Object(r.a)({},xt),{},{children:Object(V.jsx)(i.a,{store:ht,children:Object(V.jsx)(Et,{children:Object(V.jsx)(ft,{})})})})),document.getElementById("root"))}},[[560,1,2]]]);
//# sourceMappingURL=main.41a4b62a.chunk.js.map